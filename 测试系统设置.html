<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç³»ç»Ÿè®¾ç½®åŠŸèƒ½éªŒè¯</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            background: var(--deep-space);
            color: #FFFFFF;
            font-family: 'Microsoft YaHei', sans-serif;
            padding: 30px;
            margin: 0;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        h1 {
            color: var(--pulse-blue);
            text-align: center;
            text-shadow: 0 0 20px var(--pulse-blue);
            margin-bottom: 30px;
        }
        
        .test-section {
            background: rgba(15, 15, 40, 0.7);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }
        
        .test-section h2 {
            color: var(--pulse-blue);
            margin-top: 0;
            text-shadow: 0 0 10px var(--pulse-blue);
        }
        
        .test-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: rgba(0, 0, 0, 0.3);
            border-left: 4px solid var(--pulse-blue);
            border-radius: 8px;
        }
        
        .status-indicator {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 5px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 15px;
        }
        
        .status-on {
            background: rgba(0, 204, 255, 0.2);
            color: var(--pulse-blue);
            border: 1px solid var(--pulse-blue);
        }
        
        .status-off {
            background: rgba(100, 100, 100, 0.2);
            color: #999;
            border: 1px solid #666;
        }
        
        .test-button {
            display: block;
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            background: linear-gradient(135deg, var(--electric-blue), var(--pulse-blue));
            border: none;
            border-radius: 8px;
            color: #FFF;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(0, 204, 255, 0.3);
        }
        
        .test-button:hover {
            background: linear-gradient(135deg, var(--molten-orange), var(--amber-glow));
            box-shadow: 0 0 25px rgba(255, 69, 0, 0.6);
            transform: translateY(-2px);
        }
        
        .result-area {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--pulse-blue);
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
        }
        
        .result-item {
            font-family: 'Consolas', monospace;
            font-size: 14px;
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            background: rgba(0, 0, 0, 0.3);
        }
        
        .result-success {
            color: var(--crt-green);
            border-left: 4px solid var(--crt-green);
        }
        
        .result-error {
            color: var(--neon-pink);
            border-left: 4px solid var(--neon-pink);
        }
        
        .result-info {
            color: var(--pulse-blue);
            border-left: 4px solid var(--pulse-blue);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ ç³»ç»Ÿè®¾ç½®åŠŸèƒ½éªŒè¯</h1>
        
        <div class="test-section">
            <h2>ğŸ“‹ æµ‹è¯•é¡¹ç›®</h2>
            
            <div class="test-row">
                <span>å¼€å…³æŒ‰é’®ç‚¹å‡»åŠŸèƒ½</span>
                <button class="test-button" onclick="testToggleSwitches()">å¼€å§‹æµ‹è¯•</button>
            </div>
            
            <div class="test-row">
                <span>å¿«æ·æ“ä½œæŒ‰é’®åŠŸèƒ½</span>
                <button class="test-button" onclick="testActionButtons()">å¼€å§‹æµ‹è¯•</button>
            </div>
            
            <div class="test-row">
                <span>ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½</span>
                <button class="test-button" onclick="testThemeSwitching()">å¼€å§‹æµ‹è¯•</button>
            </div>
        </div>
        
        <div class="result-area">
            <h3 style="color: var(--pulse-blue); margin-top: 0;">ğŸ“Š æµ‹è¯•ç»“æœ</h3>
            <div id="resultContainer">
                <div class="result-item result-info">ç­‰å¾…æµ‹è¯•å¼€å§‹...</div>
            </div>
        </div>
        
        <!-- æµ‹è¯•ç”¨çš„å¼€å…³æŒ‰é’® -->
        <div style="display: none;">
            <div class="toggle-switch active" id="testToggle1" data-setting="testSetting1"></div>
            <div class="toggle-switch" id="testToggle2" data-setting="testSetting2"></div>
        </div>
    </div>
    
    <script src="spa-app.js"></script>
    <script>
        // ç»“æœå®¹å™¨
        const resultContainer = document.getElementById('resultContainer');
        
        // æ·»åŠ ç»“æœ
        function addResult(message, type = 'info') {
            const resultItem = document.createElement('div');
            resultItem.className = `result-item result-${type}`;
            resultItem.textContent = message;
            resultContainer.appendChild(resultItem);
            
            // æ»šåŠ¨åˆ°åº•éƒ¨
            resultContainer.scrollTop = resultContainer.scrollHeight;
        }
        
        // æ¸…ç©ºç»“æœ
        function clearResults() {
            resultContainer.innerHTML = '';
        }
        
        // æµ‹è¯•å¼€å…³æŒ‰é’®åŠŸèƒ½
        function testToggleSwitches() {
            clearResults();
            addResult('å¼€å§‹æµ‹è¯•å¼€å…³æŒ‰é’®åŠŸèƒ½...', 'info');
            
            // åˆ›å»ºæµ‹è¯•å¼€å…³æŒ‰é’®
            const testToggle1 = document.getElementById('testToggle1');
            const testToggle2 = document.getElementById('testToggle2');
            
            if (!testToggle1 || !testToggle2) {
                addResult('âŒ æ— æ³•æ‰¾åˆ°æµ‹è¯•å¼€å…³æŒ‰é’®', 'error');
                return;
            }
            
            // æµ‹è¯•ç‚¹å‡»åŠŸèƒ½
            try {
                // æ¨¡æ‹Ÿç‚¹å‡»ç¬¬ä¸€ä¸ªå¼€å…³
                testToggle1.click();
                const isActive1 = testToggle1.classList.contains('active');
                addResult(`ğŸ”˜ å¼€å…³1ç‚¹å‡»åçŠ¶æ€: ${isActive1 ? 'ON' : 'OFF'}`, isActive1 ? 'success' : 'error');
                
                // æ¨¡æ‹Ÿç‚¹å‡»ç¬¬äºŒä¸ªå¼€å…³
                testToggle2.click();
                const isActive2 = testToggle2.classList.contains('active');
                addResult(`ğŸ”˜ å¼€å…³2ç‚¹å‡»åçŠ¶æ€: ${isActive2 ? 'ON' : 'OFF'}`, isActive2 ? 'success' : 'error');
                
                // å†æ¬¡ç‚¹å‡»ç¬¬ä¸€ä¸ªå¼€å…³
                testToggle1.click();
                const isActive3 = testToggle1.classList.contains('active');
                addResult(`ğŸ”˜ å¼€å…³1å†æ¬¡ç‚¹å‡»åçŠ¶æ€: ${isActive3 ? 'ON' : 'OFF'}`, !isActive3 ? 'success' : 'error');
                
                addResult('âœ… å¼€å…³æŒ‰é’®åŠŸèƒ½æµ‹è¯•å®Œæˆ', 'success');
            } catch (error) {
                addResult(`âŒ å¼€å…³æŒ‰é’®æµ‹è¯•å‡ºé”™: ${error.message}`, 'error');
            }
        }
        
        // æµ‹è¯•å¿«æ·æ“ä½œæŒ‰é’®åŠŸèƒ½
        function testActionButtons() {
            clearResults();
            addResult('å¼€å§‹æµ‹è¯•å¿«æ·æ“ä½œæŒ‰é’®åŠŸèƒ½...', 'info');
            
            // æ£€æŸ¥å…¨å±€å‡½æ•°æ˜¯å¦å­˜åœ¨
            const functions = [
                'openChangePasswordModal',
                'openBindEmailModal',
                'handleLogout',
                'editAccountInfo',
                'initSettings'
            ];
            
            functions.forEach(funcName => {
                if (typeof window[funcName] === 'function') {
                    addResult(`âœ… ${funcName} å‡½æ•°å·²æ­£ç¡®æš´éœ²`, 'success');
                } else {
                    addResult(`âŒ ${funcName} å‡½æ•°æœªæ‰¾åˆ°`, 'error');
                }
            });
            
            addResult('âœ… å¿«æ·æ“ä½œæŒ‰é’®åŠŸèƒ½æµ‹è¯•å®Œæˆ', 'success');
        }
        
        // æµ‹è¯•ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
        function testThemeSwitching() {
            clearResults();
            addResult('å¼€å§‹æµ‹è¯•ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½...', 'info');
            
            // æ£€æŸ¥applyThemeå‡½æ•°
            if (typeof window.applyTheme === 'function') {
                addResult('âœ… applyTheme å‡½æ•°å·²æ­£ç¡®æš´éœ²', 'success');
                
                // æµ‹è¯•åº”ç”¨ä¸åŒä¸»é¢˜
                try {
                    // ä¿å­˜åŸå§‹ä¸»é¢˜å€¼
                    const originalPulseBlue = getComputedStyle(document.documentElement).getPropertyValue('--pulse-blue');
                    
                    // åº”ç”¨ç»å…¸ä¸»é¢˜
                    applyTheme('classic');
                    addResult('ğŸ¨ ç»å…¸ä¸»é¢˜å·²åº”ç”¨', 'success');
                    
                    // åº”ç”¨æš—é»‘ä¸»é¢˜
                    applyTheme('dark');
                    addResult('ğŸ¨ æš—é»‘ä¸»é¢˜å·²åº”ç”¨', 'success');
                    
                    // åº”ç”¨é»˜è®¤ä¸»é¢˜
                    applyTheme('cyberpunk');
                    addResult('ğŸ¨ èµ›åšæœ‹å…‹ä¸»é¢˜å·²åº”ç”¨', 'success');
                    
                    addResult('âœ… ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½æµ‹è¯•å®Œæˆ', 'success');
                } catch (error) {
                    addResult(`âŒ ä¸»é¢˜åˆ‡æ¢æµ‹è¯•å‡ºé”™: ${error.message}`, 'error');
                }
            } else {
                addResult('âŒ applyTheme å‡½æ•°æœªæ‰¾åˆ°', 'error');
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆ
        document.addEventListener('DOMContentLoaded', function() {
            addResult('âœ… æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ', 'success');
        });
    </script>
</body>
</html>